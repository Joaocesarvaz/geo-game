        function inicializarMapa() {
            const mapaRefDiv = document.getElementById('mapa-referencia');
            if (mapaRefDiv && typeof L !== 'undefined') {
                window.mapaReferencia = L.map(mapaRefDiv, {
                    minZoom: 3,
                    maxZoom: 4,
                    zoomControl: false // Oculta os controles de zoom padrão no modo maximizado
                }).setView([0, 0], 3);

                L.tileLayer('https://tiles.stadiamaps.com/tiles/osm_bright/{z}/{x}/{y}{r}.png', {
                maxZoom: 20,
                 attribution: '&copy; <a href="https://stadiamaps.com/">Stadia Maps</a>, &copy; <a href="https://openmaptiles.org/">OpenMapTiles</a> &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
                }).addTo(window.mapaReferencia);

                console.log("Mapa de referência inicializado com OpenStreetMap (subdomínio a).");
            } else if (mapaRefDiv) {
                console.log("Objeto L não definido. Tentando novamente em 100ms...");
                setTimeout(inicializarMapa, 100);
            }
        } 
        